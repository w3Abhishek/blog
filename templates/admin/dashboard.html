{% extends 'base.html' %}

{% block title %}Admin Dashboard{% endblock %}

{% block content %}
<div class="container">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <h1>Dashboard</h1>
        <div>
            <a href="{{ url_for('new_post') }}" class="btn">New Post</a>
            <a href="{{ url_for('logout') }}" class="btn"
                style="background-color: var(--secondary-color); margin-left: 1rem;">Logout</a>
        </div>
    </div>

    <div class="post-list">
        {% for post in posts %}
        <div class="post-card"
            style="padding: 1rem; display: flex; justify-content: space-between; align-items: center;">
            <div>
                <h3 style="margin: 0;">{{ post.title }}</h3>
                <small>{{ post.created_at[:10] }} â€¢ {{ post.status }}</small>
            </div>
            <div>
                <a href="{{ url_for('edit_post', id=post.id) }}" class="btn"
                    style="padding: 0.4rem 0.8rem; font-size: 0.9rem;">Edit</a>
                <form action="{{ url_for('delete_post', id=post.id) }}" method="POST" style="display: inline;"
                    onsubmit="return confirm('Are you sure?');">
                    <button type="submit" class="btn"
                        style="background-color: #e63946; padding: 0.4rem 0.8rem; font-size: 0.9rem; margin-left: 0.5rem;">Delete</button>
                </form>
            </div>
        </div>
        {% else %}
        <p>No posts found.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}